<!DOCTYPE HTML>
<!--
  Phantom by HTML5 UP (customized for ELIRA LIVING)
  Kenno bathrobe — refined layout, elevated typography, top-placed actions,
  centered buttons, larger subheads, CTA that starts moving after a delay and
  travels to the bottom of the details card.
-->
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Kenno Bathrobe — ELIRA LIVING</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

  <!-- SEO -->
  <meta name="description" content="Kenno bathrobe with chambray-trimmed finishes and belt. Recycled-blend textile (75% cotton, 25% polyester) with lively, soft texture. Sizes S/M, L/XL, XXL/XXXL." />
  <link rel="canonical" href="https://www.eliraliving.com/bathrobe.html" />
  <meta property="og:title" content="Kenno Bathrobe — ELIRA LIVING" />
  <meta property="og:description" content="Refined comfort in recycled-blend fabric with chambray trim. Available in Black and Grey. Product code RK4KTM." />
  <meta property="og:url" content="https://www.eliraliving.com/bathrobe.html" />
  <meta property="og:image" content="https://res.cloudinary.com/dkk8ohmu7/image/upload/f_auto,q_auto,w_1200/v1760782022/Dark_Blue_1._mpj0zr.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="icon" href="/images/favicon.png" type="image/png" />

  <!-- Template CSS -->
  <link rel="stylesheet" href="assets/css/main.css" />
  <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

  <style>
    :root{
      --page-gutter: 22px;
      --card-r: 16px;
      --shadow-1: 0 6px 18px rgba(0,0,0,.07);
      --shadow-2: 0 10px 30px rgba(0,0,0,.10);
      --ink-900:#111; --ink-800:#1c1c1c; --ink-700:#2a2a2a; --ink-600:#444; --ink-500:#666; --ink-400:#888;
      --ui-050:#fcfcfc; --ui-100:#fafafa; --ui-200:#f5f5f5; --ui-300:#eee; --ui-400:#e6e6e6;
      --brand:#1d6fa7; --brand-100: rgba(29,111,167,.12);
      --cta-shift: 0px; /* updated by JS */
    }

    html { scroll-behavior:smooth; }
    @media (prefers-reduced-motion: reduce){ *{animation:none!important;transition:none!important} html{scroll-behavior:auto} }

    /* Header */
    #header{ position:fixed; top:0; left:0; right:0; background:transparent; border:0; box-shadow:none; margin:0!important; z-index:60; pointer-events:none; }
    #header .inner{ padding-top:.5rem; padding-bottom:.25rem; pointer-events:auto; }
    #header .logo{ position:fixed; top:16px; left:22px; z-index:61; display:flex; align-items:center; gap:.55rem; }
    #header .logo .symbol img{ height:22px; width:auto; }
    #header .logo .title{ letter-spacing:.12em; font-weight:600; color:var(--ink-900)!important; }
    #header nav{ position:fixed; top:16px; right:22px; z-index:61; }
    #header nav a{ color:var(--ink-900)!important; }
    #header.shrink .inner{ padding-top:.25rem; }

    /* Page rhythm */
    #wrapper{ padding-top:0!important; }
    #main{ padding-top:0!important; }
    #main .inner{ padding-top:78px!important; }

    /* Product header */
    .product-header{ margin-top:6px; margin-bottom:18px; }
    .product-header h1{ margin:0 0 .25rem; font-weight:700; letter-spacing:.02em; color:var(--ink-900); line-height:1.2; }
    .product-header p{ margin:0; color:var(--ink-500); font-size:1.02rem; line-height:1.6; }

    /* Grid */
    .product-layout{ display:grid; gap:36px; grid-template-columns:minmax(0,1.1fr) minmax(0,.9fr); align-items:start; }
    @media (max-width:1100px){ .product-layout{ grid-template-columns:1fr; gap:22px; } }

    /* Image card */
    .main-image{ background:#fff; border-radius:var(--card-r); overflow:hidden; box-shadow:var(--shadow-1); }
    .main-image .frame{ width:100%; aspect-ratio:4/5; background:var(--ui-200); position:relative; }
    .main-image img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transform:scale(1.015); transition:opacity 360ms ease, transform 520ms cubic-bezier(.2,.6,.2,1); background:#fff; }
    .main-image img.show{ opacity:1; transform:scale(1); }
    .main-image img.contain{ object-fit:contain; background:#fff; }

    /* Thumbs */
    .thumbs{ margin-top:12px; display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
    .thumb{
      width:72px; height:72px; border:1px solid var(--ui-400); border-radius:12px; overflow:hidden; background:#fff;
      cursor:pointer; transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
      box-shadow:0 3px 10px rgba(0,0,0,.05);
    }
    .thumb:hover{ transform:translateY(-2px); box-shadow:var(--shadow-1); }
    .thumb[aria-selected="true"]{ border-color:var(--brand); box-shadow:0 0 0 3px var(--brand-100); }
    .thumb img{ width:100%; height:100%; object-fit:cover; display:block; }

    /* Details card */
    .details{ position:sticky; top:88px; background:#fff; border-radius:var(--card-r); padding:24px 24px 26px; box-shadow:var(--shadow-1); }
    .eyebrow{ margin:0 0 .65rem; color:var(--ink-400); font-size:.9rem; letter-spacing:.16em; text-transform:uppercase; }

    /* Actions */
    .actions-top{ display:flex; gap:10px; flex-wrap:wrap; margin:0 0 14px; }
    .button{ display:inline-flex; align-items:center; justify-content:center; min-height:48px; padding:0 18px; line-height:1 !important; }
    .button.icon:before{ margin-right:.5rem; transform:none; }
    .actions-top .button.primary{ box-shadow:0 6px 16px rgba(29,111,167,.18); }

    /* Only the primary CTA moves */
    .cta-primary{ transform: translateY(var(--cta-shift)); transition: transform 140ms ease; will-change: transform; }

    .meta{ display:flex; gap:10px; flex-wrap:wrap; color:var(--ink-600); margin:.2rem 0 1rem; }
    .meta .chip{ background:#f6f9fc; padding:.28rem .55rem; border-radius:999px; font-size:.88rem; border:1px solid #e5eff8; line-height:1.3; white-space:nowrap; }

    /* Editorial body */
    .details p, .details li{ color:var(--ink-600); line-height:1.75; hyphens:auto; }
    .details p{ margin:0 0 1rem; }
    .details ul{ margin:.35rem 0 1.1rem 0; padding-left:0; list-style:none; }
    .details ul li{ padding-left:1.1rem; position:relative; }
    .details ul li::before{ content:""; width:7px; height:7px; border-radius:50%; background:var(--ink-400); position:absolute; left:0; top:.63rem; }

    /* Subheads larger than body */
    #product-copy h3{ margin:1.2rem 0 .55rem; font-size:1.12rem; font-weight:700; letter-spacing:.14em; text-transform:uppercase; color:var(--ink-800); font-variant-caps:all-small-caps; }
    #product-copy p + h3{ margin-top:1.25rem; }

    /* Swatches */
    .color-picker{ display:flex; gap:12px; align-items:center; margin:.25rem 0 .8rem; flex-wrap:wrap; }
    .swatch{ width:46px; height:28px; border-radius:999px; border:1px solid var(--ui-400); cursor:pointer; outline:none; display:inline-flex; align-items:center; justify-content:center; background:#fff; box-shadow:inset 0 0 0 4px rgba(255,255,255,.8); transition:border-color .2s ease, box-shadow .2s ease, transform .12s ease; }
    .swatch:hover{ transform:translateY(-1px); }
    .swatch[aria-checked="true"]{ box-shadow:0 0 0 3px var(--brand-100), inset 0 0 0 4px rgba(255,255,255,.8); border-color:var(--brand); }
    .swatch .dot{ width:100%; height:100%; border-radius:999px; display:block; background-position:center!important; background-repeat:repeat-x!important; background-size:10px 100%!important; }

    /* Reveal */
    .reveal{ opacity:0; transform:translateY(14px); transition:opacity 500ms ease, transform 500ms ease; }
    .reveal.appear{ opacity:1; transform:translateY(0); }

    /* Footer */
    #footer{ background:var(--ui-100); }
    #footer .inner{ padding-top:2rem; padding-bottom:2rem; }
    #footer h2{ font-size:1rem; letter-spacing:.16em; color:var(--ink-700); }

    /* Small screens */
    @media (max-width:1100px){
      .details{ position:static; padding:20px 18px 22px; }
      .thumb{ width:66px; height:66px; }
      #main .inner{ padding-top:72px!important; }
      :root { --cta-shift: 0px !important; } /* disable motion on small screens */
      .button{ min-height:44px; padding:0 16px; }
      #product-copy h3{ font-size:1.07rem; }
    }
  </style>
</head>
<body class="is-preload">
  <div id="wrapper">

    <!-- Header -->
    <header id="header">
      <div class="inner">
        <a href="index.html" class="logo">
          <span class="symbol"><img src="images/logo.svg" alt="ELIRA LIVING logo" /></span>
          <span class="title">ELIRA LIVING</span>
        </a>
        <nav><ul><li><a href="#menu">Menu</a></li></ul></nav>
      </div>
    </header>

    <!-- Menu -->
    <nav id="menu" aria-label="Site">
      <h2>Menu</h2>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="index.html#products">Products</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <hr />
      <h3>Language</h3>
      <ul>
        <li><a href="/">EN</a></li>
        <li><a href="/fi/">FI</a></li>
        <li><a href="/sv/">SV</a></li>
      </ul>
    </nav>

    <!-- Main -->
    <div id="main">
      <div class="inner">

        <header class="product-header reveal">
          <h1>Kenno Bathrobe</h1>
          <p>Refined comfort in a recycled-blend fabric with chambray-trimmed finishes and a coordinating belt.</p>
        </header>

        <section class="product-layout reveal" aria-label="Kenno bathrobe gallery">
          <!-- LEFT -->
          <div>
            <div class="main-image">
              <div class="frame">
                <img id="mainImage" src="https://res.cloudinary.com/dkk8ohmu7/image/upload/f_auto,q_auto,w_1200/v1760782022/Dark_Blue_1._mpj0zr.png" alt="Kenno Bathrobe" class="show">
              </div>
            </div>
            <div class="thumbs" id="thumbs" role="listbox" aria-label="Choose a view"></div>
          </div>

          <!-- RIGHT -->
          <aside class="details" aria-live="polite">
            <div class="eyebrow" id="styleTitle">KENNO — DARK BLUE — VIEW 1</div>

            <!-- TOP ACTIONS -->
            <div class="actions-top">
              <a href="#select" class="button primary icon solid fa-check cta-primary">Add to cart</a>
              <a href="index.html#products" class="button">Back to Products</a>
            </div>

            <!-- Swatches + feature chips -->
            <div class="color-picker" role="radiogroup" aria-label="Choose color"></div>

            <div class="meta">
              <span class="chip">Recycled cotton-rich</span>
              <span class="chip">Chambray trim &amp; belt</span>
              <span class="chip">Unisex, relaxed drape</span>
              <span class="chip">Machine-wash 60&nbsp;°C</span>
            </div>

            <!-- Product copy -->
            <article id="product-copy">
              <h3>Discover Unrivalled Comfort</h3>
              <p>The Kenno bathrobe refines everyday ease into a considered ritual. Chambray-trimmed edges and a coordinating belt frame a silhouette that feels composed yet effortless. Woven from recycled fibres, the surface reads lively and tactile—soft to the touch and quietly luxurious.</p>

              <h3>Composition</h3>
              <p><strong>75% cotton, 25% polyester</strong> (recycled-blend). A responsible fabric that balances plush handfeel with lasting performance.</p>

              <h3>Fit &amp; Measurements</h3>
              <p><strong>S/M</strong> — Length (shoulder to hem) 108 cm · Sleeve (neck to cuff) 65 cm · Chest 67 cm<br>
                 <strong>L/XL</strong> — Length 115 cm · Sleeve 65 cm · Chest 76 cm<br>
                 <strong>XXL/XXXL</strong> — Length 130 cm · Sleeve 76 cm · Chest 82 cm</p>
              <p>Drapes with poised ease for a presence that reads relaxed, never bulky.</p>

              <h3>Care &amp; Longevity</h3>
              <p>Launder separately before first wear. Natural shrinkage approx. <strong>5%</strong>. Reshape while damp. Machine-wash gentle at <strong>60&nbsp;°C</strong>; iron on medium. Avoid tumble drying and dry-cleaning to preserve structure and texture.</p>

              <h3>At-a-Glance</h3>
              <ul>
                <li><strong>Colours:</strong> Black, Grey</li>
                <li><strong>Sizes:</strong> S/M, L/XL, XXL/XXXL</li>
                <li><strong>Pattern:</strong> Cell</li>
                <li><strong>Material category:</strong> Recycled material</li>
                <li><strong>Specification:</strong> 75% Cotton, 25% Polyester</li>
                <li><strong>Product code:</strong> RK4KTM</li>
                <li><strong>Manufacturer:</strong> Relaxed</li>
              </ul>

              <h3>Why It Matters</h3>
              <p>More than loungewear, Kenno is a small sanctuary. The cotton-rich, recycled construction invites daily use; the clean lines and tailored details echo the quiet polish of fine spa robes. From sauna to slow evenings, it delivers an enduring sense of “luxury that lasts.”</p>
            </article>
          </aside>
        </section>

      </div>
    </div>

    <!-- Footer -->
    <footer id="footer">
      <div class="inner">
        <section id="contact">
          <h2>Get in touch</h2>
          <p>Email: <a href="mailto:support@eliraliving.com">support@eliraliving.com</a></p>
        </section>
        <section>
          <h2>Follow</h2>
          <ul class="icons">
            <li><a href="#" class="icon brands style2 fa-instagram"><span class="label">Instagram</span></a></li>
            <li><a href="#" class="icon brands style2 fa-facebook-f"><span class="label">Facebook</span></a></li>
            <li><a href="mailto:support@eliraliving.com" class="icon solid style2 fa-envelope"><span class="label">Email</span></a></li>
          </ul>
        </section>
        <ul class="copyright">
          <li>&copy; ELIRA LIVING. All rights reserved.</li>
          <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
        </ul>
      </div>
    </footer>

  </div>

  <!-- Scripts -->
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/browser.min.js"></script>
  <script src="assets/js/breakpoints.min.js"></script>
  <script src="assets/js/util.js"></script>
  <script src="assets/js/main.js"></script>

  <!-- Interactions + Gallery -->
  <script>
    window.addEventListener('load', function(){ document.documentElement.classList.add('page-loaded'); });

    (function(){
      var items=[].slice.call(document.querySelectorAll('.reveal'));
      if(!('IntersectionObserver' in window) || !items.length){ items.forEach(el=>el.classList.add('appear')); return; }
      var io=new IntersectionObserver(function(entries){
        entries.forEach(function(entry){ if(entry.isIntersecting){ entry.target.classList.add('appear'); io.unobserve(entry.target); } });
      },{ rootMargin:'0px 0px -10% 0px', threshold:0.15 });
      items.forEach(el=>io.observe(el));
    })();

    (function(){
      var header=document.getElementById('header'), last=0;
      window.addEventListener('scroll', function(){
        var y=window.scrollY||window.pageYOffset;
        if(y>24 && last<=24) header.classList.add('shrink'); else if(y<=24 && last>24) header.classList.remove('shrink');
        last=y;
      },{passive:true});
    })();

    /* ---------- DATA ---------- */
    var CLOUDINARY_BASE='https://res.cloudinary.com/dkk8ohmu7/image/upload/';
    var FULL_TRANSFORM ='f_auto,q_auto,w_1200/';
    var THUMB_TRANSFORM='f_auto,q_auto,w_240/';

    var PRODUCT={
      colors:[
        { id:'dark-blue',  name:'Dark Blue',  hex:'#0e2b4a',
          publicIds:['v1760782022/Dark_Blue_1._mpj0zr.png','v1760782021/Dark_Blue_2._ptxyc4.png'],
          captions:['Kenno — Dark Blue — full view','Kenno — Dark Blue — alternate angle'] },
        { id:'dark-brown', name:'Dark Brown', hex:'#4a2d1b',
          publicIds:['v1760782022/Dark_Brown_1._cepnap.png'],
          captions:['Kenno — Dark Brown — full view'] },
        { id:'brown',      name:'Brown',      hex:'#7a5633',
          publicIds:['v1760782023/Brown_1._kjvdqs.png','v1760782025/Brown_2._fwsws0.png'],
          captions:['Kenno — Brown — front','Kenno — Brown — folded'] },
        { id:'brown-kids', name:'Brown (Kids)', hex:'#6a4b2e',
          publicIds:['v1760782029/Brown_Kid_s_Bathrobe_grupok.png'],
          captions:['Kenno — Brown (Kids) — front'] },
        { id:'black',      name:'Black',      hex:'#222222',
          publicIds:['v1760782026/Black_1_pogmqf.png','v1760782027/Black_2_n9vshi.png'],
          captions:['Kenno — Black — full view','Kenno — Black — alternate angle'] },
        { id:'beige',      name:'Beige',      hex:'#c7b8a1',
          publicIds:['v1760782029/Beige_1._ylffja.png','v1760782026/Beige_2._ri0sjc.png'],
          captions:['Kenno — Beige — front','Kenno — Beige — detail'] },
        { id:'dark-green', name:'Dark Green', hex:'#2f6b4f',
          publicIds:['v1760782029/Dark_Green_1._xktrgu.png','v1760782028/Darh_Green_2._fs5mgj.png'],
          captions:['Kenno — Dark Green — front','Kenno — Dark Green — alternate angle'] }
      ]
    };

    var SWATCH_OVALS={
      'black'     :'https://res.cloudinary.com/dkk8ohmu7/image/upload/v1760786511/Screenshot_2025-10-18_142038_ludra7.png',
      'brown-kids':'https://res.cloudinary.com/dkk8ohmu7/image/upload/v1760786510/Screenshot_2025-10-18_142027_th4glm.png',
      'brown'     :'https://res.cloudinary.com/dkk8ohmu7/image/upload/v1760786509/Screenshot_2025-10-18_142017_afzp7j.png',
      'dark-brown':'https://res.cloudinary.com/dkk8ohmu7/image/upload/v1760786505/Screenshot_2025-10-18_142007_hz4vhj.png',
      'dark-blue' :'https://res.cloudinary.com/dkk8ohmu7/image/upload/v1760786505/Screenshot_2025-10-18_141948_twy4ky.png',
      'dark-green':'https://res.cloudinary.com/dkk8ohmu7/image/upload/v1760786505/Screenshot_2025-10-18_142059_cvn0ue.png',
      'beige'     :'https://res.cloudinary.com/dkk8ohmu7/image/upload/v1760786504/Screenshot_2025-10-18_142050_lyvffd.png'
    };

    function fullUrl(id){ return CLOUDINARY_BASE+FULL_TRANSFORM+id; }
    function thumbUrl(id){ return CLOUDINARY_BASE+THUMB_TRANSFORM+id; }

    var NEED_CONTAIN=[
      'Beige_1._ylffja.png','Dark_Green_1._xktrgu.png','Brown_Kid_s_Bathrobe_grupok.png',
      'Black_1_pogmqf.png','Brown_1._kjvdqs.png','Dark_Blue_1._mpj0zr.png','Dark_Brown_1._cepnap.png'
    ];
    function requiresContain(publicId){ var name=publicId.split('/').pop(); return NEED_CONTAIN.indexOf(name)!==-1; }

    var currentColorIndex=1, currentImageIndex=0;
    var mainImg=document.getElementById('mainImage');
    var thumbsEl=document.getElementById('thumbs');
    var titleEl=document.getElementById('styleTitle');
    var colorPickerEl=document.querySelector('.color-picker');

    function renderColorPicker(){
      colorPickerEl.innerHTML='';
      PRODUCT.colors.forEach(function(c,idx){
        var btn=document.createElement('button');
        btn.className='swatch';
        btn.setAttribute('role','radio');
        btn.setAttribute('aria-label',c.name);
        btn.setAttribute('aria-checked', idx===currentColorIndex ? 'true' : 'false');
        btn.dataset.index=idx;

        var dot=document.createElement('span');
        dot.className='dot';
        var ovalUrl = SWATCH_OVALS[c.id];
        if(ovalUrl){ dot.style.backgroundImage='url('+ovalUrl+')'; }
        dot.style.backgroundColor=c.hex; // fallback
        dot.title=c.name;
        btn.appendChild(dot);

        btn.addEventListener('click', function(){
          if(currentColorIndex!==idx){ currentColorIndex=idx; currentImageIndex=0; updateGallery(); updateColorPickA11y(); }
        });

        colorPickerEl.appendChild(btn);
      });
    }
    function updateColorPickA11y(){
      colorPickerEl.querySelectorAll('.swatch').forEach((b,i)=>b.setAttribute('aria-checked', i===currentColorIndex ? 'true' : 'false'));
    }

    function renderThumbs(color){
      thumbsEl.innerHTML='';
      color.publicIds.forEach(function(pid,i){
        var btn=document.createElement('button');
        btn.className='thumb';
        btn.dataset.index=i+1;
        btn.setAttribute('aria-label', color.name+' — View '+(i+1));
        if(i===currentImageIndex) btn.setAttribute('aria-selected','true');

        var img=document.createElement('img');
        img.loading='lazy'; img.src=thumbUrl(pid); img.alt=color.name+' — View '+(i+1)+' thumbnail';
        btn.appendChild(img);

        btn.addEventListener('click', function(){ setActiveImage(i); });
        thumbsEl.appendChild(btn);
      });
    }

    function setActiveImage(i){
      var color=PRODUCT.colors[currentColorIndex];
      currentImageIndex=i;
      var pid=color.publicIds[i];
      var newSrc=fullUrl(pid);

      mainImg.classList.remove('show');
      if(requiresContain(pid)) mainImg.classList.add('contain'); else mainImg.classList.remove('contain');

      var preload=new Image();
      preload.onload=function(){ mainImg.src=newSrc; mainImg.alt='Kenno Bathrobe — '+color.name+' — View '+(i+1); mainImg.classList.add('show'); };
      preload.src=newSrc;

      titleEl.textContent=('KENNO — '+color.name+' — VIEW '+(i+1)).toUpperCase();

      document.querySelectorAll('.thumb').forEach(t=>t.setAttribute('aria-selected','false'));
      var active=document.querySelector('.thumb[data-index="'+(i+1)+'"]'); if(active) active.setAttribute('aria-selected','true');
    }

    function updateGallery(){ var color=PRODUCT.colors[currentColorIndex]; renderThumbs(color); setActiveImage(0); }

    (function init(){ renderColorPicker(); updateGallery(); })();

    // Keyboard navigation
    document.addEventListener('keydown', function(e){
      var color=PRODUCT.colors[currentColorIndex]; if(!color) return;
      if(e.key==='ArrowRight') setActiveImage((currentImageIndex+1)%color.publicIds.length);
      if(e.key==='ArrowLeft')  setActiveImage((currentImageIndex-1+color.publicIds.length)%color.publicIds.length);
      if(e.key==='ArrowUp'){ currentColorIndex=(currentColorIndex-1+PRODUCT.colors.length)%PRODUCT.colors.length; currentImageIndex=0; updateGallery(); updateColorPickA11y(); }
      if(e.key==='ArrowDown'){ currentColorIndex=(currentColorIndex+1)%PRODUCT.colors.length; currentImageIndex=0; updateGallery(); updateColorPickA11y(); }
    });

    /* --- CTA motion: starts after a delay, then travels to the bottom of details card --- */
    (function(){
      var root = document.documentElement;
      var details = document.querySelector('.details');
      var cta = document.querySelector('.cta-primary');
      if(!details || !cta) return;

      // Tweak this to match when you want the CTA to begin moving (px of scroll).
      // 24 matches header "shrink" point. 96 feels like the logo’s gentle offset.
      var delayBeforeMove = 96;

      var startScrollY = 0;
      var maxShift = 0;

      function computeMaxShift(){
        var styles = getComputedStyle(details);
        var padBottom = parseFloat(styles.paddingBottom) || 0;

        var ctaTopInCard = cta.offsetTop;
        var cardHeight   = details.clientHeight;
        var ctaHeight    = cta.offsetHeight;

        maxShift = Math.max(0, cardHeight - (ctaTopInCard + ctaHeight + padBottom));
        startScrollY = window.scrollY || window.pageYOffset || 0;
        root.style.setProperty('--cta-shift', '0px');
      }

      function onScroll(){
        var y = (window.scrollY || window.pageYOffset || 0) - startScrollY;
        var afterDelay = y - delayBeforeMove;
        var shift = Math.min(Math.max(afterDelay, 0), maxShift);
        root.style.setProperty('--cta-shift', shift.toFixed(2) + 'px');
      }

      computeMaxShift();
      onScroll();

      window.addEventListener('scroll', onScroll, { passive:true });
      window.addEventListener('resize', function(){ computeMaxShift(); onScroll(); });

      var ro = new ResizeObserver(function(){ computeMaxShift(); onScroll(); });
      ro.observe(details);
    })();
  </script>
</body>
</html>
